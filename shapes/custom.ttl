@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix sh:  <http://www.w3.org/ns/shacl#>.
@prefix ex: <http://example.com/ns#>. 
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>. 
@prefix urn: <http://fliqz.com/> .
@prefix : <urn:absolute/prototyp#> . 


sh:PatternConstraintComponent
	a sh:ConstraintComponent ;
	sh:parameter [
		sh:path sh:schnischni ;
	] ;
	sh:parameter [
		sh:path sh:schnippo ;
		sh:optional true ;
	] ;
	sh:validator :hasPattern .

:hasPattern
	a sh:SPARQLAskValidator ;
	sh:message "Value does not match pattern {$pattern}" ;
	sh:ask """
		ASK { 
			FILTER (!isBlank($value) && 
				IF(bound($flags), regex(str($value), $pattern, $flags), regex(str($value), $pattern)))
		}""" .



# Ist jedes Material mindestens ein Symbol?

urn:SymbolShape
	a sh:NodeShape ;
	sh:targetClass 	<urn:absolute/prototyp#Material> ;
	sh:property [                 # _:b1
		sh:path [sh:inversePath [sh:alternativePath (:A :B :C :D)]];           
		sh:minCount 1 ;
        sh:schnischni "hahah";
        sh:schnippo true;
	] .